<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Error link 404</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
<h1>Error 404: BAD LINK</h1>
<h2>You seem to have typed an invalid link!</h2>
<h2 id="404title"></h2>
<h3>Please use the below text box to correct your mistake</h3>
<h5>Do not include "erick.link/" just what is after the forward slash</h5>

<form id="frm1">
  <label for="lname">Correct link ending:</label><br>
  <textarea id="lname" spellcheck="false">PLEASE ENABLE JAVASCRIPT</textarea>
  <br>
  <input type="button" onclick="tryAgain()" value="Try again">
</form>
<h6>It is also possible that the link you are using has been removed</h6>

<footer>
  <h6 style="bottom: 0%; position: fixed">Created by Erick Grant 2023</h6>
</footer>
<script>
  var ogLink = getQueryVariable("link");
  console.log(ogLink);


  document.getElementById("404title").innerHTML = "You typed: https://erick.link/" + ogLink;
//Set text box to the link
  document.getElementById("lname").innerHTML = ogLink;

  function getQueryVariable(variable) {
    var query = window.location.search.substring(1);
    var vars = query.split("&");
    for (var i=0;i<vars.length;i++) {
      var pair = vars[i].split("=");
      if (pair[0] == variable) {
        return pair[1];
      }
    }
    alert("How did you get here? please make sure you use erick.link/");
  }

  function tryAgain() {
    var x = document.getElementById("frm1");
    var userIn = x.elements[0].value;
    console.log("user typed: " + userIn);
    var newLink = "https://erick.link/" + userIn;
    console.log("new link: " + newLink);
    window.location = newLink;
  }

</script>
</body>
</html>
